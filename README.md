# üìâ Price Watcher Bot

![FastAPI](https://img.shields.io/badge/FastAPI-0.115.0-0?logo=fastapi&logoColor=white&labelColor=009688&color=009688)
![fastapi-users](https://img.shields.io/badge/fastapi--users-14.0.1-blueviolet?logo=python)
![SQLAlchemy](https://img.shields.io/badge/SQLAlchemy-2.0.40-orange?logo=sqlalchemy)
![Alembic](https://img.shields.io/badge/Alembic-1.15.2-3796b0?logo=alembic)
![Python](https://img.shields.io/badge/Python-3.11+-3776AB?logo=python)
![Telegram Bot](https://img.shields.io/badge/python--telegram--bot-22.1-34A5DB?logo=telegram)
![AIOHTTP](https://img.shields.io/badge/aiohttp-3.11.18-005571?logo=python)
![uvicorn](https://img.shields.io/badge/uvicorn-0.34.1-black?logo=fastapi)

> üõçÔ∏è Telegram-–±–æ—Ç –¥–ª—è –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è —Ü–µ–Ω –Ω–∞ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞—Ö. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –ø–æ–¥–ø–∏—Å—ã–≤–∞—Ç—å—Å—è –Ω–∞
—Ç–æ–≤–∞—Ä—ã, –∏ –ø—Ä–∏ —Å–Ω–∏–∂–µ–Ω–∏–∏ —Ü–µ–Ω—ã –±–æ—Ç –ø—Ä–∏—à–ª—ë—Ç —É–≤–µ–¥–æ–º–ª–µ–Ω–∏–µ! –¢–∞–∫ –∂–µ –µ—Å—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏—è –∏—Å—Ç–æ—Ä–∏–∏ —Ç–æ–≤–∞—Ä–æ–≤,
—É–¥–æ–±–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è.

---

## üöÄ –í–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

### üß† Backend (FastAPI + SQLAlchemy + PostgreSQL)

- üì° –ê—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π FastAPI-—Å–µ—Ä–≤–µ—Ä —Å —á–∏—Å—Ç–æ–π –º–æ–¥—É–ª—å–Ω–æ–π –∞—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–æ–π
- üîê **–ö–∞—Å—Ç–æ–º–Ω–∞—è –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ –∞—É—Ç–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**:
  - JWT-—Ç–æ–∫–µ–Ω—ã —Å —à–∏—Ñ—Ä–æ–≤–∞–Ω–∏–µ–º (Fernet) –∏ —Ö—Ä–∞–Ω–µ–Ω–∏–µ–º –≤ –ë–î
  - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∞—è –ª–æ–≥–∏–∫–∞ –∞–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ `fastapi-users`
- üìä CRUD-–æ–ø–µ—Ä–∞—Ü–∏–∏ —á–µ—Ä–µ–∑ SQLAlchemy 2.0 + Pydantic
- üß© –ë–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫–∞:
  - –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞ –æ—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–π –Ω–∞ —Ç–æ–≤–∞—Ä
  - –•—Ä–∞–Ω–µ–Ω–∏–µ –∞–≤–∞—Ç–∞—Ä–æ–≤ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–π
  - –ü–æ–¥–¥–µ—Ä–∂–∫–∞ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö —Ñ–∏–ª—å—Ç—Ä–æ–≤ –∏ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π
  - –ù–∞–¥—ë–∂–Ω–∞—è –≤–∞–ª–∏–¥–∞—Ü–∏—è: –¥–µ—Å—è—Ç–∫–∏ –∫–∞—Å—Ç–æ–º–Ω—ã—Ö –≤–∞–ª–∏–¥–∞—Ç–æ—Ä–æ–≤ –Ω–∞ –±–∏–∑–Ω–µ—Å-–ª–æ–≥–∏–∫—É

### ü§ñ Telegram-–±–æ—Ç

- üé® –£–¥–æ–±–Ω—ã–π –∏ **–∏–Ω—Ç—É–∏—Ç–∏–≤–Ω—ã–π –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –±–µ–∑ –Ω–∞–∫–æ–ø–ª–µ–Ω–∏—è —Å–æ–æ–±—â–µ–Ω–∏–π**
- üîê –ê–≤—Ç–æ—Ä–∏–∑–∞—Ü–∏—è –∏ —Ä–µ–≥–∏—Å—Ç—Ä–∞—Ü–∏—è –ø—Ä—è–º–æ –≤ Telegram —á–µ—Ä–µ–∑ `JWT`
- üîî –£–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –æ —Å–Ω–∏–∂–µ–Ω–∏–∏ —Ü–µ–Ω (–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å API Wildberries/Ozon)
- üïì –†–µ–≥—É–ª—è—Ä–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ü–µ–Ω –∏ —Ñ–æ–Ω–æ–≤–æ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ –¥–∞–Ω–Ω—ã—Ö –æ —Ç–æ–≤–∞—Ä–µ —á–µ—Ä–µ–∑ `APScheduler`

### ‚öôÔ∏è DevOps –∏ –∏–Ω—Ñ—Ä–∞—Å—Ç—Ä—É–∫—Ç—É—Ä–∞

- üì¶ **Docker + Docker Compose**: —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤
- üßæ Alembic –¥–ª—è –º–∏–≥—Ä–∞—Ü–∏–π –ë–î (–∞–≤—Ç–æ–∞–ø–≥—Ä–µ–π–¥ –ø—Ä–∏ –∑–∞–ø—É—Å–∫–µ)
- üåê Nginx –∫–∞–∫ —Ä–µ–≤–µ—Ä—Å-–ø—Ä–æ–∫—Å–∏
- üìÇ –†–∞–±–æ—Ç–∞ —Å–æ —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–º–∏ —Ñ–∞–π–ª–∞–º–∏ (–∞–≤–∞—Ç–∞—Ä—ã)
- üîê –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è —á–µ—Ä–µ–∑ `.env`, –≥–∏–±–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏–π

---

---

## ‚öôÔ∏è –£—Å—Ç–∞–Ω–æ–≤–∫–∞

```bash
git clone https://github.com/KonstantinPohodyaev/price_watcher.git
cd price_watcher
```

–°–æ–∑–¥–∞–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –µ–≥–æ:

```bash
python -m venv venv
source venv/bin/activate  # Windows: . venv\Scripts\activate
```

–£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:

```bash
pip install -r requirements.txt
```

### üì¶ –ü–µ—Ä–µ–º–µ–Ω–Ω—ã–µ –æ–∫—Ä—É–∂–µ–Ω–∏—è

–°–æ–∑–¥–∞–π—Ç–µ `.env` —Ñ–∞–π–ª –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞:

```env
# === DATABASE CONFIGURATION ===
DB_DIALECT=postgresql               # –î–∏–∞–ª–µ–∫—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è SQLAlchemy/Alembic)
DB_DRIVER=asyncpg                   # –î—Ä–∞–π–≤–µ—Ä –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ PostgreSQL (–∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã–π)
DB_USERNAME=db_username             # –ò–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ
DB_PASSWORD=db_password             # –ü–∞—Ä–æ–ª—å –¥–ª—è –ø–æ–¥–∫–ª—é—á–µ–Ω–∏—è –∫ –±–∞–∑–µ
DB_NAME=test_db.db                  # –ù–∞–∑–≤–∞–Ω–∏–µ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö
DB_HOST=db                          # –•–æ—Å—Ç –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö (–∏–º—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ db)
DB_PORT=5432                        # –ü–æ—Ä—Ç PostgreSQL –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ

# === POSTGRES CONTAINER CONFIGURATION ===
POSTGRES_USER=user                 # –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å PostgreSQL (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ)
POSTGRES_PASSWORD=password         # –ü–∞—Ä–æ–ª—å PostgreSQL (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ)
POSTGRES_DB=db                     # –ò–º—è –ë–î PostgreSQL (–∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è –≤ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–µ)
POSTGRES_PORT=5432                 # –ü–æ—Ä—Ç PostgreSQL (–¥–æ–ª–∂–µ–Ω —Å–æ–≤–ø–∞–¥–∞—Ç—å —Å DB_PORT)
POSTGRES_HOST=db                   # –•–æ—Å—Ç PostgreSQL (–∏–º—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ db)

# === APPLICATION CONFIG ===
SECRET=SECRET                      # –°–µ–∫—Ä–µ—Ç–Ω–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ (–Ω–∞–ø—Ä–∏–º–µ—Ä, –¥–ª—è –ø–æ–¥–ø–∏—Å–∏ —Ç–æ–∫–µ–Ω–æ–≤)
TITLE=Price Watcher                # –ù–∞–∑–≤–∞–Ω–∏–µ API
DESCRIPTION=–°–µ—Ä–≤–∏—Å –¥–ª—è –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ —Ü–µ–Ω.  # –û–ø–∏—Å–∞–Ω–∏–µ API

# === SUPERUSER CONFIG ===
FIRST_SUPERUSER_EMAIL=your_email@.main.ru   # Email –ø–µ—Ä–≤–æ–≥–æ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è
FIRST_SUPERUSER_PASSWORD=your_password # –ü–∞—Ä–æ–ª—å –ø–µ—Ä–≤–æ–≥–æ —Å—É–ø–µ—Ä–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è

# === JWT CONFIGURATION ===
JWT_SECRET_KEY=A8zOVVp4FMb93RD03n0O25FwAYmTxmTQhF3kPBnLJ6E=  # –ö–ª—é—á –¥–ª—è –ø–æ–¥–ø–∏—Å–∏ JWT —Ç–æ–∫–µ–Ω–æ–≤. Base64-–∫–æ–¥–∏—Ä–æ–≤–∞–Ω–Ω–∞—è —Å—Ç—Ä–æ–∫–∞ –¥–ª–∏–Ω–æ–π 32 –±–∞–π—Ç–∞ (–≤ –≤–∏–¥–µ 44 —Å–∏–º–≤–æ–ª–æ–≤, –≤–∫–ª—é—á–∞—è =)

# === TELEGRAM BOT ===
TELEGRAM_BOT_TOKEN=your_telegram_token  # –¢–æ–∫–µ–Ω Telegram-–±–æ—Ç–∞ (–ø–æ–ª—É—á–∏—Ç—å —á–µ—Ä–µ–∑ BotFather –≤ Telegram)

# === INTERNAL DOCKER NETWORK CONFIG ===
API_CONTAINER=api                 # –ò–º—è –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞ —Å API
API_PORT=8000                     # –ü–æ—Ä—Ç API –≤–Ω—É—Ç—Ä–∏ Docker
PROTOCOL=http                     # –ü—Ä–æ—Ç–æ–∫–æ–ª (http –∏–ª–∏ https)
```
---

## ‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫ –≤ –æ—Ç–¥–µ–ª—å–Ω—ã—Ö —Ç–µ—Ä–º–∏–Ω–∞–ª–∞—Ö –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è

### –í—ã–ø–æ–ª–Ω–µ–Ω–∏–µ –ú–∏–≥—Ä–∞—Ü–∏–π
```bash
alembic upgrade head
```

### –ó–∞–ø—É—Å–∫ backend-—Å–µ—Ä–≤–µ—Ä–∞:

```bash
uvicorn src.main:app
```

### –ó–∞–ø—É—Å–∫ Telegram-–±–æ—Ç–∞:

```bash
python -m bot.main
```

_API –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ ```http://127.0.0.1:8000/docs```_

## ‚ñ∂Ô∏è –ó–∞–ø—É—Å–∫ –≤ Docker-–∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞—Ö (–¥–ª—è Windows)
_–ü–µ—Ä–µ–¥ –≤—ã–ø–æ–ª–Ω–µ–Ω–∏–µ–º –∫–æ–º–∞–Ω–¥—ã –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –∑–∞–ø—É—Å—Ç–∏—Ç—å Docker Desktop_

### –ó–∞–ø—É—Å–∫ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤:

```bash
docker compose up -d
```

### –û—Å—Ç–∞–Ω–æ–≤–∫–∞ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–æ–≤
```bash
docker compose down
```

_API –±—É–¥–µ—Ç –¥–æ—Å—Ç—É–ø–Ω–æ –ø–æ ```http://localhost/docs```_

---

## üìå –ü—Ä–∏–º–µ—Ä –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è

1. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —Ä–µ–≥–∏—Å—Ç—Ä–∏—Ä—É–µ—Ç—Å—è –∏–ª–∏ –∞–≤—Ç–æ—Ä–∏–∑—É–µ—Ç—Å—è —á–µ—Ä–µ–∑ FastAPI –≤ –±–æ—Ç–µ.
2. –í Telegram –≤—ã–±–∏—Ä–∞–µ—Ç –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å, –æ—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∞—Ä—Ç–∏–∫—É–ª –Ω–∞ —Ç–æ–≤–∞—Ä, –∂–µ–ª–∞–µ–º—É—é —Ü–µ–Ω—É.
3. –ë–æ—Ç —Å–æ—Ö—Ä–∞–Ω—è–µ—Ç –∞—Ä—Ç–∏–∫—É–ª –∏ —á–µ—Ä–µ–∑ API –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –º–∞—Ä–∫–µ—Ç–ø–ª–µ–π—Å–∞ –ø–æ–ª—É—á–∞–µ—Ç –≤—Å—é –Ω–µ–æ–±—Ö–æ–¥–∏–º—É—é –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—é.
4. –ù–∞ –∫–∞–∂–¥–æ–º —ç—Ç–∞–ø–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –≤–∞–ª–∏–¥–∞—Ü–∏—è –∏ –ø—Ä–æ–≤–µ—Ä–∫–∞ –¥–∞–Ω–Ω—ã—Ö –∏ –¥–µ–π—Å—Ç–≤–∏–π —Å–æ —Å—Ç–æ—Ä–æ–Ω—ã –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è.
5. –ï—Å—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤–∫–ª—é—á–∏—Ç—å —É–≤–µ–¥–æ–º–ª–µ–Ω–∏—è –∏ —É–∑–Ω–∞—Ç—å –∫–æ–≥–¥–∞ —Ü–µ–Ω–∞ –Ω–∞ —Ç–æ–≤–∞—Ä —É–ø–∞–¥–µ—Ç –¥–æ –∂–µ–ª–∞–µ–º–æ–π.
6. –ü—Ä–∏ —Å–Ω–∏–∂–µ–Ω–∏–∏ ‚Äî –ø—Ä–∏—Ö–æ–¥–∏—Ç —Å–æ–æ–±—â–µ–Ω–∏–µ üì© –≤ Telegram.
7. –ï—Å—Ç—å –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å —Ä–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∏ –∞–∫–∫–∞—É–Ω—Ç–∞, —Ç–æ–≤–∞—Ä–æ–≤, –∏–∑–º–µ–Ω–µ–Ω–∏—è –∂–µ–ª–∞–µ–º–æ–π —Ü–µ–Ω—ã, –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ –∏—Å—Ç–æ—Ä–∏–∏ —Ü–µ–Ω –∏ —Ç–¥.

---

## üë®‚Äçüíª –ê–≤—Ç–æ—Ä

**–ü–æ—Ö–æ–¥—è–µ–≤ –ö–æ–Ω—Å—Ç–∞–Ω—Ç–∏–Ω**  
Telegram: [@kspohodyaev](https://t.me/kspohodyaev)

---
